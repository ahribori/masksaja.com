(this["webpackJsonpreact-kakaomap-templates"]=this["webpackJsonpreact-kakaomap-templates"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(22),r=a.n(c),i=(a(81),a(141)),l=a(69),s=a(42),u=a(132),m=Object(l.a)({palette:{primary:s.a,secondary:u.a},typography:{fontFamily:["Noto Sans KR","-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue"].join(",")}}),p=a(60),d=a.n(p),f=a(19),g=a(33),b=a(133),h=a(28),v=a(134),E=a(135),O=a(136),j=a(142),k=a(11),w=a(63),S=a.n(w),y=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(h.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(k.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(k.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})),N=function(e){var t=e.onSearch,a=y(),c=Object(n.useState)(""),r=Object(f.a)(c,2),i=r[0],l=r[1];return o.a.createElement("div",{className:a.root},o.a.createElement(v.a,{position:"fixed"},o.a.createElement(E.a,null,o.a.createElement(O.a,{className:a.title,variant:"h6",noWrap:!0},"\ub9c8\uc2a4\ud06c\uc0ac\uc790"),o.a.createElement("div",{className:a.search},o.a.createElement("div",{className:a.searchIcon},o.a.createElement(S.a,null)),o.a.createElement(j.a,{placeholder:"\uac74\ubb3c, \uc9c0\uc5ed \uac80\uc0c9...",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return l(e.target.value)},value:i,onKeyPress:function(e){13===e.charCode&&(t(i),e.target.blur())}})))))};N.defaultProps={onSearch:function(){}};var C=N,L=a(109),x=a(137),I=a(138),B=a(139),R=Object(b.a)((function(e){return{toolbar:Object(h.a)({position:"fixed",zIndex:99999,right:e.spacing(1),top:e.spacing(8),backgroundColor:"#fff"},e.breakpoints.up("sm"),{top:e.spacing(10),right:e.spacing(2)})}})),T=function(e){var t=e.pending,a=e.onLocationButtonClick,n=e.onRenewButtonClick,c=R();return o.a.createElement("div",{className:c.toolbar},o.a.createElement(x.a,{orientation:"vertical",variant:"outlined",color:"primary","aria-label":"outlined primary button group"},o.a.createElement(L.a,{disabled:t,onClick:function(){return a()}},o.a.createElement(I.a,null)),o.a.createElement(L.a,{disabled:t,onClick:function(){return n()}},o.a.createElement(B.a,null))))};T.defaultProps={onLocationButtonClick:function(){},onRenewButtonClick:function(){}};var z,_=T,A=a(143),P=a(38),F=a(64),H=a(31),M=a.n(H),U=M.a.CancelToken,W=function(){function e(){Object(P.a)(this,e)}return Object(F.a)(e,[{key:"fetchShopsByBounds",value:function(e,t,a,n){return z&&z(),M.a.get("http://api.adrinerdp.co/getSpots?lon1=".concat(a,"&lon2=").concat(n,"&lat1=").concat(e,"&lat2=").concat(t,"&fbclid=IwAR09XPXYvHaeIZh93DN2I5fUd1vZmFgVj7B0i9bppCxHUfy3Iur7W2b6zEo"),{cancelToken:new U((function(e){z=e}))})}}]),e}(),G=new function e(){Object(P.a)(this,e),this.Shop=new W},Z=Object(b.a)((function(e){return{info:{position:"fixed",zIndex:9999,backgroundColor:"rgba(0,0,0,0.6)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",top:"50%",left:"50%",width:240,height:80,marginTop:-40,marginLeft:-120,fontSize:15}}})),D=function(e){var t=e.message,a=Z();return o.a.createElement("div",{className:a.info},t)},K=a(140),J=a(43),X=Object(b.a)((function(e){return{normal:{padding:e.spacing(1),backgroundColor:s.a[700],color:"#fff"},soldOut:{padding:e.spacing(1),backgroundColor:J.a[500],color:"#fff"},title:{fontSize:13,fontWeight:700},content:{fontSize:11}}})),q=function(e){var t=e.code,a=e.name,n=(e.type,e.addr),c=e.tel,r=(e.stock_d,e.stock_t,e.stock_cnt,e.sold_cnt,e.remain_cnt),i=e.sold_out,l=(e.lat,e.lng,X());return o.a.createElement("div",{"data-shop-code":t,className:l.container,"data-tippy-content":Object(g.renderToStaticMarkup)(o.a.createElement((function(){return o.a.createElement("div",null,o.a.createElement(O.a,{className:l.title},a),o.a.createElement(O.a,{className:l.content,component:"p"},"\ub0a8\uc740 \uc218\ub7c9: ",r),o.a.createElement(O.a,{className:l.content,component:"p"},c),o.a.createElement(O.a,{className:l.content,component:"p"},n))}),null))},!i&&o.a.createElement(K.a,{className:l.normal},o.a.createElement(O.a,{className:l.title},a),o.a.createElement(O.a,{className:l.content,component:"p"},"\ub0a8\uc740 \uc218\ub7c9: ",r)),i&&o.a.createElement(K.a,{className:l.soldOut},o.a.createElement(O.a,{className:l.title},a),o.a.createElement(O.a,{className:l.title},"SOLD OUT")))},V=a(68),Y=(a(105),Object(b.a)((function(e){return{map:{width:"100%",height:"100%"},progress:{position:"fixed",zIndex:9999,width:"100%"}}})));var $=function(){var e=Object(n.useState)(!0),t=Object(f.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(window.kakao),i=Object(f.a)(r,1)[0],l=Object(n.useState)(null),s=Object(f.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)(null),d=Object(f.a)(p,2),b=d[0],h=d[1],v=Object(n.useState)(""),E=Object(f.a)(v,2),O=E[0],j=E[1],k=Y(),w=function(e,t){var a=Object(n.useState)(e),o=Object(f.a)(a,2),c=o[0],r=o[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){r(e)}),t);return function(){clearTimeout(a)}}),[e,t]),c}(b,300),S=Object(n.useCallback)((function(){return u.getBounds()}),[u]),y=function(){navigator.geolocation?(c(!0),navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude,o=new i.maps.LatLng(a,n);u.panTo(o),h(S()),c(!1)}),(function(){c(!1),alert("\uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}))):(alert("\uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),c(!1))},N=function(){return document.querySelectorAll("[data-shop-code]").forEach((function(e){return e.parentNode.removeChild(e)}))};return Object(n.useEffect)((function(){var e=document.getElementById("map"),t={center:new i.maps.LatLng(37.4019528117587,127.10828323199647),level:5},a=new i.maps.Map(e,t);m(a),c(!1)}),[i.maps]),Object(n.useEffect)((function(){u&&(y(),i.maps.event.addListener(u,"tilesloaded",(function(){u.getLevel()<=6?(h(S()),j("")):(N(),z&&(z(),c(!1)),j("\uc9c0\ub3c4\ub97c \uc880 \ub354 \ud655\ub300\ud574\uc8fc\uc138\uc694"))})))}),[u]),Object(n.useEffect)((function(){if(b){var e=b.getSouthWest(),t=b.getNorthEast(),a=e.Ga,n=e.Ha,r=t.Ga,l=t.Ha;c(!0),G.Shop.fetchShopsByBounds(n,l,a,r).then((function(e){!function(e){N(),e.forEach((function(e){var t=e.lat,a=e.lng;new i.maps.CustomOverlay({map:u,clickable:!0,position:new i.maps.LatLng(a,t),content:Object(g.renderToStaticMarkup)(o.a.createElement(q,e)),zIndex:99999}).setMap(u),Object(V.a)("[data-tippy-content]",{allowHTML:!0})}))}(e.data),c(!1)})).catch((function(e){M.a.isCancel(e)||c(!1)}))}}),[w]),o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{onSearch:function(e){var t;e&&(t=e,c(!0),(new i.maps.services.Places).keywordSearch(t,(function(e,t){if(t===i.maps.services.Status.OK){var a=e[0],n=a.x,o=a.y,r=new i.maps.LatLng(o,n);u.panTo(r),u.setLevel(3)}else t===i.maps.services.Status.ZERO_RESULT?alert("\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):alert("\uc11c\ube44\uc2a4\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");c(!1)})))}}),o.a.createElement(_,{pending:a,onLocationButtonClick:y,onRenewButtonClick:function(){u.getLevel()<=6&&h(S())}}),a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,{color:"secondary",className:k.progress}),o.a.createElement("div",{className:k.dimmer})),O&&o.a.createElement(D,{message:O}),o.a.createElement("div",{id:"map",className:k.map}))},Q=Object(b.a)((function(e){return{root:{position:"fixed",zIndex:9999,right:0,bottom:0,width:200,fontSize:11,padding:e.spacing(1),textAlign:"right"}}})),ee=function(){var e=Q();return o.a.createElement("div",{className:e.root},o.a.createElement("div",null,"\uac1c\ubc1c: \uc815\ud604\uc2b9"),o.a.createElement("div",null,"\ubb38\uc758: ahribori@gmail.com"))};var te=function(){return o.a.createElement(i.a,{theme:m},o.a.createElement("div",{className:d.a.App},o.a.createElement($,null),o.a.createElement(ee,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,a){e.exports={App:"App_App__3jZN5"}},76:function(e,t,a){e.exports=a(106)},81:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.0d9d2a34.chunk.js.map