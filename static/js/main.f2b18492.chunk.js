(this["webpackJsonpreact-kakaomap-templates"]=this["webpackJsonpreact-kakaomap-templates"]||[]).push([[0],{153:function(e,t,a){e.exports={App:"App_App__3jZN5"}},168:function(e,t,a){e.exports=a(289)},265:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);a(169);var n=a(0),o=a.n(n),r=a(24),c=a.n(r),i=(a(265),a(335)),l=a(161),s=a(82),u=a(322),m=Object(l.a)({palette:{primary:s.a,secondary:u.a},typography:{fontFamily:["Noto Sans KR"].join(",")}}),d=a(153),p=a.n(d),f=a(34),g=a(73),b=a(323),h=a(55),v=a(324),E=a(326),j=a(290),k=a(337),O=a(17),w=a(156),y=a.n(w),S=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(h.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(O.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(O.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})),C=function(e){var t=e.onSearch,a=S(),r=Object(n.useState)(""),c=Object(f.a)(r,2),i=c[0],l=c[1];return o.a.createElement("div",{className:a.root},o.a.createElement(v.a,{position:"fixed"},o.a.createElement(E.a,null,o.a.createElement(j.a,{className:a.title,variant:"h6",noWrap:!0},"\ub9c8\uc2a4\ud06c\uc0ac\uc790"),o.a.createElement("div",{className:a.search},o.a.createElement("div",{className:a.searchIcon},o.a.createElement(y.a,null)),o.a.createElement(k.a,{placeholder:"\uac74\ubb3c, \uc9c0\uc5ed \uac80\uc0c9...",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return l(e.target.value)},value:i,onKeyPress:function(e){13===e.charCode&&(t(i),e.target.blur())}})))))};C.defaultProps={onSearch:function(){}};var L=C,B=a(292),N=a(327),x=a(328),z=a(329),I=Object(b.a)((function(e){return{toolbar:Object(h.a)({position:"fixed",zIndex:1e3,right:e.spacing(1),top:e.spacing(8),backgroundColor:"#fff"},e.breakpoints.up("sm"),{top:e.spacing(10),right:e.spacing(2)})}})),T=function(e){var t=e.pending,a=e.onLocationButtonClick,n=e.onRenewButtonClick,r=I();return o.a.createElement("div",{className:r.toolbar},o.a.createElement(N.a,{orientation:"vertical",variant:"outlined",color:"primary","aria-label":"outlined primary button group"},o.a.createElement(B.a,{disabled:t,onClick:function(){return a()}},o.a.createElement(x.a,null)),o.a.createElement(B.a,{disabled:t,onClick:function(){return n()}},o.a.createElement(z.a,null))))};T.defaultProps={onLocationButtonClick:function(){},onRenewButtonClick:function(){}};var _,R=T,A=a(331),M=a(78),P=a(157),W=a(65),G=a.n(W),K=G.a.CancelToken,F=function(){function e(){Object(M.a)(this,e)}return Object(P.a)(e,[{key:"fetchShopsByBounds",value:function(e,t,a){return _&&_(),G.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=".concat(e,"&lng=").concat(t,"&m=").concat(a),{cancelToken:new K((function(e){_=e}))})}}]),e}(),H=new function e(){Object(M.a)(this,e),this.Shop=new F},J=Object(b.a)((function(e){return{info:{position:"fixed",zIndex:9999,backgroundColor:"rgba(0,0,0,0.6)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",top:"50%",left:"50%",width:240,height:80,marginTop:-40,marginLeft:-120,fontSize:15}}})),Z=function(e){var t=e.message,a=J();return o.a.createElement("div",{className:a.info},t)},q=a(330),D=a(83),U=Object(b.a)((function(e){return{normal:{padding:e.spacing(1),backgroundColor:s.a[700],color:"#fff",textAlign:"center",minWidth:40},soldOut:{padding:e.spacing(1),backgroundColor:D.a[500],color:"#fff"},title:{fontSize:13,fontWeight:700},content:{fontSize:11}}})),$=function(e){var t=e.code,a=e.name,n=(e.type,e.addr),r=(e.tel,e.stock_d,e.stock_t,e.stock_cnt,e.sold_cnt,e.remain_cnt),c=e.sold_out,i=(e.lat,e.lng,U());return o.a.createElement("div",{"data-shop-code":t,className:i.container,"data-tippy-content":Object(g.renderToStaticMarkup)(o.a.createElement((function(){return o.a.createElement("div",null,o.a.createElement(j.a,{className:i.title},a),o.a.createElement(j.a,{className:i.content,component:"p"},"\ub0a8\uc740 \uc218\ub7c9: ",r),o.a.createElement(j.a,{className:i.content,component:"p"},n))}),null))},!c&&o.a.createElement(q.a,{className:i.normal},o.a.createElement(j.a,{className:i.title},r,"\uac1c")),c&&o.a.createElement(q.a,{className:i.soldOut},o.a.createElement(j.a,{className:i.title},"\ud488\uc808")))},Q=a(84),V=(a(288),Object(b.a)((function(e){return{map:{width:"100%",height:"100%"},progress:{position:"fixed",zIndex:9999,width:"100%"}}})));var X=function(){var e=Object(n.useState)(!0),t=Object(f.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(window.kakao),i=Object(f.a)(c,1)[0],l=Object(n.useState)(null),s=Object(f.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(null),p=Object(f.a)(d,2),b=p[0],h=p[1],v=Object(n.useState)(""),E=Object(f.a)(v,2),j=E[0],k=E[1],O=V(),w=function(e,t){var a=Object(n.useState)(e),o=Object(f.a)(a,2),r=o[0],c=o[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){c(e)}),t);return function(){clearTimeout(a)}}),[e,t]),r}(b,300),y=Object(n.useCallback)((function(){return u.getBounds()}),[u]),S=function(){document.querySelectorAll("[data-shop-code]").forEach((function(e){return e.parentNode.removeChild(e)}))};return Object(n.useEffect)((function(){var e=document.getElementById("map"),t={center:new i.maps.LatLng(37.4019528117587,127.10828323199647),level:5},a=new i.maps.Map(e,t);m(a),r(!1)}),[i.maps]),Object(n.useEffect)((function(){u&&(i.maps.event.addListener(u,"tilesloaded",(function(){u.getLevel()<=6?(h(y()),k("")):(S(),_&&(_(),r(!1)),k("\uc9c0\ub3c4\ub97c \uc880 \ub354 \ud655\ub300\ud574\uc8fc\uc138\uc694"))})),i.maps.event.addListener(u,"zoom_start",(function(){Object(Q.b)()})),i.maps.event.addListener(u,"dragstart",(function(){Object(Q.b)()})))}),[u]),Object(n.useEffect)((function(){if(b){var e=u.getCenter(),t=e.Ha,a=e.Ga,n=200*(u.getLevel()+1);r(!0),H.Shop.fetchShopsByBounds(t,a,n).then((function(e){var t=e.data.stores;console.log(e.data),function(e){setTimeout((function(){S(),e.forEach((function(e){var t=e.lat,a=e.lng;new i.maps.CustomOverlay({map:u,clickable:!0,position:new i.maps.LatLng(t,a),content:Object(g.renderToStaticMarkup)(o.a.createElement($,e)),zIndex:99999}).setMap(u),Object(Q.a)("[data-tippy-content]",{allowHTML:!0})}))}),0)}(t),r(!1)})).catch((function(e){G.a.isCancel(e)||r(!1)}))}}),[w]),o.a.createElement(o.a.Fragment,null,o.a.createElement(L,{onSearch:function(e){var t;e&&(t=e,r(!0),(new i.maps.services.Places).keywordSearch(t,(function(e,t){if(t===i.maps.services.Status.OK){var a=e[0],n=a.x,o=a.y,c=new i.maps.LatLng(o,n);u.panTo(c),u.setLevel(3)}else t===i.maps.services.Status.ZERO_RESULT?alert("\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):alert("\uc11c\ube44\uc2a4\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");r(!1)})))}}),o.a.createElement(R,{pending:a,onLocationButtonClick:function(){navigator.geolocation?(r(!0),navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude,o=new i.maps.LatLng(a,n);u.panTo(o),h(y()),r(!1)}),(function(){r(!1),alert("\uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}))):(alert("\uc704\uce58\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),r(!1))},onRenewButtonClick:function(){u.getLevel()<=6&&h(y())}}),a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,{color:"secondary",className:O.progress}),o.a.createElement("div",{className:O.dimmer})),j&&o.a.createElement(Z,{message:j}),o.a.createElement("div",{id:"map",className:O.map}))},Y=Object(b.a)((function(e){return{root:{position:"fixed",zIndex:9999,right:0,bottom:0,width:200,fontSize:11,padding:e.spacing(1),textAlign:"right"}}})),ee=function(){var e=Y();return o.a.createElement("div",{className:e.root},o.a.createElement("div",null,"\uac1c\ubc1c: \uc815\ud604\uc2b9"),o.a.createElement("div",null,"\ubb38\uc758: ahribori@gmail.com"))},te=a(334),ae=a(333),ne=a(332),oe=a(336),re=function(){var e=Object(n.useState)(!0),t=Object(f.a)(e,2),a=t[0],r=t[1],c=function(){r(!1)};return o.a.createElement(oe.a,{open:a,onClose:c,disableEscapeKeyDown:!0,disableBackdropClick:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(ne.a,{id:"alert-dialog-title"},"\uc11c\ube44\uc2a4 \uc774\uc6a9 \ub3d9\uc758"),o.a.createElement(ae.a,null,o.a.createElement(j.a,{variant:"body2",gutterBottom:!0,style:{fontSize:15,color:"red"}},"* ",o.a.createElement("strong",null,"\uc11c\ube44\uc2a4 \uc900\ube44\uc911\uc785\ub2c8\ub2e4.")),o.a.createElement(j.a,{variant:"body2",gutterBottom:!0,style:{fontSize:13}},"* \ub9c8\uc2a4\ud06c \uc0ac\uc6a9 \uc9c0\uce68 \ubc0f \uacf5\uc801 \ub9c8\uc2a4\ud06c \uad00\ub828 \uc548\ub0b4\ub294"," ",o.a.createElement("a",{href:"https://www.mfds.go.kr/bogunMaskPanMae.jsp",target:"_blank"},o.a.createElement("strong",null,"[\uc2dd\uc57d\ucc98 \ud648\ud398\uc774\uc9c0]")),"\ub97c \ucc38\uace0\ud558\uc138\uc694."),o.a.createElement(j.a,{variant:"body2",gutterBottom:!0,style:{fontSize:13}},"* \ub9c8\uc2a4\ud06c\uc0ac\uc790\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uacf5\uc801\ub9c8\uc2a4\ud06c \ud310\ub9e4\uc815\ubcf4\ub294 ",o.a.createElement("strong",null,"5\ubd84 \uc774\uc0c1 \uc9c0\uc5f0\ub41c \uc815\ubcf4"),"\uc785\ub2c8\ub2e4."),o.a.createElement(j.a,{variant:"body2",gutterBottom:!0,style:{fontSize:13}},"* \uc77c\uc120\uc5d0\uc11c \uc218\uace0\ud558\uc2dc\ub294 \uc57d\uc0ac\ub2d8\ub4e4\uaed8 \uac10\uc0ac\uc758 \ub9c8\uc74c\uc744 \uc804\ud569\ub2c8\ub2e4."),o.a.createElement(j.a,{variant:"body2",gutterBottom:!0,style:{fontSize:13,color:"red"}},"* \uc2e4\uc81c \uc57d\uad6d\uc5d0 \uc788\ub294 \uc7ac\uace0\ub7c9\uacfc \uc624\ucc28\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc73c\ub2c8 \uc808\ub300\ub85c \ud604\uc7a5\uc5d0 \uacc4\uc2e0 \uc57d\uc0ac\ub2d8\ub4e4\uaed8 \ubb38\uc81c\ub97c \uc81c\uae30\ud558\uc9c0 \ub9d0\uc544\uc8fc\uc138\uc694.")),o.a.createElement(te.a,null,o.a.createElement(B.a,{onClick:c,variant:"contained",color:"primary"},"\ub3d9\uc758\ud569\ub2c8\ub2e4")))};var ce=function(){return o.a.createElement(i.a,{theme:m},o.a.createElement("div",{className:p.a.App},o.a.createElement(X,null),o.a.createElement(ee,null),o.a.createElement(re,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[168,1,2]]]);
//# sourceMappingURL=main.f2b18492.chunk.js.map